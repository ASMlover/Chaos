sudo: required
dist: precise
language: cpp
branches:
  only:
    - master

os:
  - linux
addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    - llvm-toolchain-precise-3.6
    packages:
    - gcc-5
    - g++-5
env: CXX=g++-5 CC=gcc-5 COMPILER=g++-5

before_install:
  # libunwind
  - wget -q http://download.savannah.gnu.org/releases/libunwind/libunwind-1.1.tar.gz
  - tar xfz libunwind-1.1.tar.gz
  - cd libunwind-1.1 && ./configure --prefix=/usr && sudo make --silent install && cd ..

script:
  - mkdir cmake-build && cd cmake-build && cmake ..
  - make
